"use strict";!function(){var e,t=ax5.ui,i=ax5.util;t.addClass({className:"autocomplete",version:"1.3.38"},function(){var t=function(){var t,o=this;this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,removeIcon:"X",lang:{noSelected:"",noOptions:"no options",loading:"Now Processing"},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}},this.queue=[],this.activeautocompleteOptionGroup=null,this.activeautocompleteQueueIndex=-1,this.openTimer=null,this.closeTimer=null,this.waitOptionsCallback=null,this.keyUpTimer=null,t=this.config;var n=jQuery(window),a=jQuery(document.body),l={18:"KEY_ALT",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},s=function(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),"changeValue"==t.state&&(e&&e.onChange?e.onChange.call(t,t):this.onChange&&this.onChange.call(t,t)),e=null,t=null,!0},u=function(){for(var e,t=this.queue.length;t--;){var o=this.queue[t];if(o.$display&&(e=Math.max(o.$select.outerWidth(),i.number(o.minWidth)),o.$display.css({"min-width":e}),o.reset&&o.$display.find(".addon-icon-reset").css({"line-height":this.queue[t].$display.height()+"px"}),o.multiple)){var n=function(){return i.number(o.$display.css("border-top-width"))+i.number(o.$display.css("border-bottom-width"))}.call(this);o.$target.height(""),o.$display.height("");var a=o.$displayTable.outerHeight();Math.abs(a-o.$target.height())>n&&(o.$target.css({height:a+n}),o.$display.css({height:a+n}))}}return t=null,e=null,this},c=function(e){if(e&&!this.activeautocompleteOptionGroup)return this;var t,i=this.queue[this.activeautocompleteQueueIndex],o={},l=0,s={},u={};e&&jQuery(document.body).append(this.activeautocompleteOptionGroup),o=i.$target.offset(),s={width:i.$target.outerWidth(),height:i.$target.outerHeight()},u={winWidth:Math.max(n.width(),a.width()),winHeight:Math.max(n.height(),a.height()),width:this.activeautocompleteOptionGroup.outerWidth(),height:this.activeautocompleteOptionGroup.outerHeight()},i.direction&&""!==i.direction&&"auto"!==i.direction?t=i.direction:(t="top",o.top-u.height-l<0?t="top":o.top+s.height+u.height+l>u.winHeight&&(t="bottom")),e&&this.activeautocompleteOptionGroup.addClass("direction-"+t),this.activeautocompleteOptionGroup.css(function(){if("top"==t){if(o.top+s.height+u.height+l>u.winHeight){var e=o.top+u.height;return e+u.height+l>u.winHeight&&(e=0),e<0&&(e=0),{left:o.left,top:e,width:s.width}}return{left:o.left,top:o.top+s.height+1,width:s.width}}if("bottom"==t)return{left:o.left,top:o.top-u.height-1,width:s.width}}.call(this))},p=function(e,t){if(!this.activeautocompleteOptionGroup)return this;var o=this.queue[this.activeautocompleteQueueIndex],n="display";return(t=i.findParentNode(e.target,function(e){return e.getAttribute("data-option-value")?(n="optionItem",!0):o.$target.get(0)==e?(n="display",!0):void 0}))?("optionItem"===n&&($.call(this,o.id,{optionIndex:{index:t.getAttribute("data-option-index")}},void 0,"optionItemClick"),o.multiple||this.close()),this):(this.close(),this)},d=function(t){if(t.keyCode==ax5.info.eventKeys.ESC)f.call(this,this.activeautocompleteQueueIndex),this.close();else if(t.which==ax5.info.eventKeys.RETURN){for(var i=[],o=this.queue[this.activeautocompleteQueueIndex],n=o.$displayLabel.get(0).childNodes,a=0,l=n.length;a<l;a++){var s=n[a];if(s.nodeType in e.util.nodeTypeProcessor){var u=e.util.nodeTypeProcessor[s.nodeType].call(this,this.activeautocompleteQueueIndex,s);"undefined"!=typeof u&&i.push(u)}}$.call(this,o.id,i,!0),m.call(this,this.activeautocompleteQueueIndex),o.multiple||this.close()}},r=function(t){var i=this.queue[t],o={};return o.id=i.id,o.theme=i.theme,o.size="ax5autocomplete-option-group-"+i.size,o.multiple=i.multiple,o.lang=i.lang,o.options=i.options,o.selected=i.selected,o.hasSelected=o.selected&&o.selected.length>0,o.removeIcon=i.removeIcon,e.tmpl.get.call(this,"label",o,i.columnKeys)+'<input type="text" style="border:0px none;background: transparent;" />'},h=function(t){var o,n=this.queue[t];if(!n.multiple&&n.selected&&n.selected.length>0&&(n.selected=[].concat(n.selected[n.selected.length-1])),n.selected.forEach(function(e,t){e["@index"]=t}),n.$select.html(e.tmpl.get.call(this,"formSelectOptions",{selected:n.selected},n.columnKeys)),n.$displayLabel.html(r.call(this,t)),n.$target.height(""),n.$display.height(""),n.$target.height()<(o=n.$displayTable.outerHeight())){var a=function(){return i.number(n.$display.css("border-top-width"))+i.number(n.$display.css("border-bottom-width"))}();n.$target.css({height:o+a}),n.$display.css({height:o+a})}},m=function(e){this.queue[e].$displayLabel.trigger("focus"),this.queue[e].$displayLabel.find("input").focus()},f=function(e){this.queue[e].$displayLabel.trigger("blur")},x=function(t,o){if(this.activeautocompleteQueueIndex==-1)return this;var n=/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi;o=o.replace(n,""),this.queue[t].waitOptions=!0,this.queue[t].onSearch.call({self:this,item:this.queue[t],searchWord:o},function(t){var n={},a=this.queue[this.activeautocompleteQueueIndex];return!!a&&(function(e,t){var o={};t.options.forEach(function(t,i){t["@index"]=i,t["@findex"]=i,o[t[e.columnKeys.optionValue]]=t}),i.isArray(e.selected)&&e.selected.forEach(function(i){o[i[e.columnKeys.optionValue]]&&(t.options[o[i[e.columnKeys.optionValue]]["@index"]][e.columnKeys.optionSelected]=!0)})}(a,t),a.options=t.options,u.call(this),n.id=a.id,n.theme=a.theme,n.size="ax5autocomplete-option-group-"+a.size,n.multiple=a.multiple,n.lang=a.lang,n.options=a.options,this.activeautocompleteOptionGroup.find('[data-els="content"]').html(jQuery(e.tmpl.get.call(this,"options",n,a.columnKeys))),v.call(this,this.activeautocompleteQueueIndex,o),c.call(this),void setTimeout(function(){c.call(this)}.bind(this)))}.bind(this))},v=function(e,t){if(this.activeautocompleteQueueIndex==-1)return this;var i,o=[],n=-1,a=this.queue[e].options.length-1;if(""!=t){for(;a-n++;){if(i=this.queue[e].options[n],(""+i.text).toLowerCase()==t.toLowerCase()){o=[{"@findex":i["@findex"],optionsSort:0}];break}var l=(""+i.text).toLowerCase().search(t.toLowerCase());if(l>-1&&(o.push({"@findex":i["@findex"],optionsSort:l}),o.length>2))break;l=null}o.sort(function(e,t){return e.optionsSort-t.optionsSort})}o&&o.length>0?y.call(this,e,void 0,o[0]["@findex"]):g.call(this,e)},g=function(e){this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.find("[data-option-focus-index]").removeClass("hover").removeAttr("data-option-selected"),this.queue[e].optionFocusIndex=-1},y=function(e,t,i){var o,n,a,l,s=this.queue[e];if(this.activeautocompleteOptionGroup&&s.options&&s.options.length>0){if("undefined"!=typeof i?o=i:(n=s.optionFocusIndex==-1?s.optionSelectedIndex||-1:s.optionFocusIndex,n==-1?o=0:(o=n+t,o<0?o=0:o>s.optionItemLength-1&&(o=s.optionItemLength-1))),s.optionFocusIndex=o,s.options[o]&&s.options[o].hide){if("undefined"==typeof t)return this;for(;s.options[o].hide;){if(o+=t,o<0){o=0;break}if(o>s.optionItemLength-1){o=s.optionItemLength-1;break}}}if("undefined"!=typeof o&&(this.activeautocompleteOptionGroup.find("[data-option-focus-index]").removeClass("hover"),a=this.activeautocompleteOptionGroup.find('[data-option-focus-index="'+o+'"]').addClass("hover"),l=this.activeautocompleteOptionGroup.find('[data-els="content"]'),a.get(0))){var u=a.outerHeight(),c=l.innerHeight(),p=l.scrollTop(),d=a.position().top+l.scrollTop();c+p<d+u?l.scrollTop(d+u-c):p>d&&l.scrollTop(d)}}},b=function(e){return e instanceof jQuery?e=e.data("data-ax5autocomplete-id"):i.isString(e)||(e=jQuery(e).data("data-ax5autocomplete-id")),i.isString(e)?i.search(this.queue,function(){return this.id==e}):void console.log(ax5.info.getError("ax5autocomplete","402","getQueIdx"))},K=function(e,t,i){return"undefined"==typeof i?!e.multiple||!t:i},I=function(e){this.queue[e].options.forEach(function(e){e.optgroup?e.options.forEach(function(e){e.selected=!1}):e.selected=!1})},$=function(){var e={selectedIndex:function(e,t,i,o){},removeSelectedIndex:function(e,t,i,o){for(var n=this.queue[e],a={},l=[],s=0,u=0;u<n.selected.length;u++)n.selected[u]["@index"]!=t.removeSelectedIndex.index&&(a={"@index":s,"@findex":s},a[n.columnKeys.optionValue]=n.selected[u][n.columnKeys.optionValue],a[n.columnKeys.optionText]=n.selected[u][n.columnKeys.optionText],l.push(a),s++);n.selected=l},optionIndex:function n(e,t,i,o){var a=this.queue[e],l={},n=a.selected.length,s=!0;l={"@index":n,"@findex":n},l[a.columnKeys.optionValue]=a.options[t.optionIndex.index][a.columnKeys.optionValue],l[a.columnKeys.optionText]=a.options[t.optionIndex.index][a.columnKeys.optionText];for(var u=0;u<a.selected.length;u++)a.selected[u][a.columnKeys.optionValue]==l[a.columnKeys.optionValue]&&(s=!1);s&&a.selected.push(l)},arr:function(t,n,a,l){n.forEach(function(n){if(i.isString(n)||i.isNumber(n))e.text.call(o,t,n,a,"justSetValue");else for(var l in e)if(n[l]){e[l].call(o,t,n,a,"justSetValue");break}})},value:function(e,o,n,a){var l,s=this.queue[e],u=i.search(s.options,function(){return this[s.columnKeys.optionValue]==o.value[s.columnKeys.optionValue]});if(u>-1)if(s.options[u][s.columnKeys.optionSelected]=K(s,s.options[u][s.columnKeys.optionSelected],n),s.options[u][s.columnKeys.optionSelected]){for(var c=!0,p=0;p<s.selected.length;p++)if(s.selected[p][t.columnKeys.optionValue]==s.options[u][t.columnKeys.optionValue]){c=!1;break}c&&(l={},l[s.columnKeys.optionValue]=s.options[u][s.columnKeys.optionValue],l[s.columnKeys.optionText]=s.options[u][s.columnKeys.optionText],s.selected.push(l))}else{for(var d=[],p=0;p<s.selected.length;p++)s.selected[p][t.columnKeys.optionValue]==s.options[u][t.columnKeys.optionValue]||(l={},l[s.columnKeys.optionValue]=s.selected[p][s.columnKeys.optionValue],l[s.columnKeys.optionText]=s.selected[p][s.columnKeys.optionText],d.push(l));s.selected=d}else{for(var c=!0,p=0;p<s.selected.length;p++)if(s.selected[p][t.columnKeys.optionValue]==o.value[t.columnKeys.optionValue]){c=!1;break}c&&(l={},l[s.columnKeys.optionValue]=o.value[t.columnKeys.optionValue],l[s.columnKeys.optionText]=o.value[t.columnKeys.optionText],s.selected.push(l))}},text:function(e,o,n,a){var l,s=this.queue[e],u=i.search(s.options,function(){return this[s.columnKeys.optionText]==o});if(u>-1)if(s.options[u][s.columnKeys.optionSelected]=K(s,s.options[u][s.columnKeys.optionSelected],n),s.options[u][s.columnKeys.optionSelected]){for(var c=!0,p=0;p<s.selected.length;p++)if(s.selected[p][t.columnKeys.optionText]==s.options[u][t.columnKeys.optionText]){c=!1;break}c&&(l={},l[s.columnKeys.optionValue]=s.options[u][s.columnKeys.optionValue],l[s.columnKeys.optionText]=s.options[u][s.columnKeys.optionText],s.selected.push(l))}else{for(var d=[],p=0;p<s.selected.length;p++)s.selected[p][t.columnKeys.optionText]==s.options[u][t.columnKeys.optionText]||(l={},l[s.columnKeys.optionValue]=s.selected[p][s.columnKeys.optionValue],l[s.columnKeys.optionText]=s.selected[p][s.columnKeys.optionText],d.push(l));s.selected=d}else{for(var c=!0,p=0;p<s.selected.length;p++)if(s.selected[p][t.columnKeys.optionText]==o){c=!1;break}c&&(l={},l[s.columnKeys.optionValue]=o,l[s.columnKeys.optionText]=o,s.selected.push(l))}},clear:function(e){I.call(this,e),g.call(this,e),this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.find("[data-option-index]").attr("data-option-Selected","false"),this.queue[e].optionSelectedIndex=-1}};return function(t,o,n,a){var l=i.isNumber(t)?t:b.call(this,t);if(l===-1)return void console.log(ax5.info.getError("ax5autocomplete","402","val"));if("undefined"==typeof o)throw"error not found value";if(i.isArray(o))e.clear.call(this,l),e.arr.call(this,l,this.queue[l].multiple||0==o.length?o:[o[o.length-1]],n);else if(i.isString(o)||i.isNumber(o))"undefined"==typeof o||null===o||this.queue[l].multiple||I.call(this,l),e.text.call(this,l,o,n);else if(null===o)e.clear.call(this,l);else{this.queue[l].multiple||I.call(this,l);for(var u in e)if(o[u]){e[u].call(this,l,o,n);break}}return h.call(this,l),c.call(this),"undefined"!=typeof o&&a&&!a.noStateChange&&s.call(this,this.queue[l],{self:this,item:this.queue[l],state:"changeValue",value:this.queue[l].selected}),t=null,this}}();this.init=function(){this.onStateChanged=t.onStateChanged,this.onChange=t.onChange,jQuery(window).bind("resize.ax5autocomplete-display-"+this.instanceId,function(){u.call(this)}.bind(this))},this.bind=function(n){var a,s=function(){var t=i.debounce(function(t){if(this.activeautocompleteQueueIndex==-1)return this;for(var n=[],a="",l=!1,s=this.queue[t],u=s.$displayLabel.get(0).childNodes,c=0,p=u.length;c<p;c++){var d=u[c];if(d.nodeType in e.util.nodeTypeProcessor){var r=e.util.nodeTypeProcessor[d.nodeType].call(this,this.activeautocompleteQueueIndex,d,!0);"undefined"==typeof r||(i.isString(r)?a=r:(r.removeSelectedIndex&&(l=!0),n.push(r)))}}0==u.length?$.call(this,s.id,null,void 0,"internal"):""!=a?x.call(o,t,a):l&&($.call(this,s.id,n,void 0,"internal"),o.close())},150),n=function(t){for(var o=[],n=this.queue[t],a=n.$displayLabel.get(0).childNodes,l=0,s=a.length;l<s;l++){var u=a[l];if(u.nodeType in e.util.nodeTypeProcessor){var c=e.util.nodeTypeProcessor[u.nodeType].call(this,t,u,!0);"undefined"==typeof c||i.isString(c)||o.push(c)}}$.call(this,n.id,o,void 0,"blurLabel")},a={click:function(e,t){var n,a=i.findParentNode(t.target,function(e){return e.getAttribute("data-ax5autocomplete-remove")?(n="optionItemRemove",!0):e.getAttribute("data-selected-clear")?(n="clear",!0):void 0});if(a){if("optionItemRemove"===n){var l=a.getAttribute("data-ax5autocomplete-remove-index");return this.queue[e].selected.splice(l,1),h.call(this,e),m.call(this,e),i.stopEvent(t),this}"clear"===n&&$.call(this,e,{clear:!0})}else o.activeautocompleteQueueIndex==e?this.queue[e].optionFocusIndex==-1&&o.close():""==this.queue[e].$displayLabel.text().replace(/^\W*|\W*$/g,"")&&(this.queue[e].$displayLabel.html(r.call(this,e)),m.call(this,e))},keyUp:function(e,n){return n.which==ax5.info.eventKeys.ESC&&o.activeautocompleteQueueIndex===-1?(i.stopEvent(n),this):(o.activeautocompleteQueueIndex!=e&&(o.open(e),i.stopEvent(n)),void(l[n.which]?i.stopEvent(n):t.call(this,e)))},keyDown:function(e,t){t.which==ax5.info.eventKeys.ESC?i.stopEvent(t):t.which==ax5.info.eventKeys.RETURN?i.stopEvent(t):t.which==ax5.info.eventKeys.DOWN?(y.call(this,e,1),i.stopEvent(t)):t.which==ax5.info.eventKeys.UP&&(y.call(this,e,-1),i.stopEvent(t))},focus:function(e,t){},blur:function(e,t){n.call(this,e),i.stopEvent(t)},selectChange:function(e,t){$.call(this,e,{value:this.queue[e].$select.val()},!0)}};return function(t){var i=this.queue[t],o={};return i.$display?(i.$displayLabel.html(r.call(this,t)),u.call(this)):(o.instanceId=this.instanceId,o.id=i.id,o.name=i.name,o.theme=i.theme,o.tabIndex=i.tabIndex,o.multiple=i.multiple,o.reset=i.reset,o.label=r.call(this,t),o.formSize=function(){return i.size?"input-"+i.size:""}(),i.$display=jQuery(e.tmpl.get.call(this,"autocompleteDisplay",o,i.columnKeys)),i.$displayTable=i.$display.find('[data-els="display-table"]'),i.$displayLabel=i.$display.find('[data-ax5autocomplete-display="label"]'),i.$target.find("select").get(0)?(i.$select=i.$target.find("select"),i.$select.attr("tabindex","-1").attr("class","form-control "+o.formSize),o.name&&i.$select.attr("name","name"),i.$select.attr("multiple","multiple")):(i.$select=jQuery(e.tmpl.get.call(this,"formSelect",o,i.columnKeys)),i.$target.append(i.$select)),i.$target.append(i.$display),u.call(this)),i.$display.unbind("click.ax5autocomplete").bind("click.ax5autocomplete",a.click.bind(this,t)),i.$displayLabel.unbind("focus.ax5autocomplete").bind("focus.ax5autocomplete",a.focus.bind(this,t)).unbind("blur.ax5autocomplete").bind("blur.ax5autocomplete",a.blur.bind(this,t)).unbind("keyup.ax5autocomplete").bind("keyup.ax5autocomplete",a.keyUp.bind(this,t)).unbind("keydown.ax5autocomplete").bind("keydown.ax5autocomplete",a.keyDown.bind(this,t)),i.$select.unbind("change.ax5autocomplete").bind("change.ax5autocomplete",a.selectChange.bind(this,t)),o=null,i=null,t=null,this}}(),c={};return n=jQuery.extend(!0,c,t,n),n.target?(n.$target=jQuery(n.target),n.id||(n.id=n.$target.data("data-ax5autocomplete-id")),n.id||(n.id="ax5autocomplete-"+ax5.getGuid(),n.$target.data("data-ax5autocomplete-id",n.id)),n.name=n.$target.attr("data-ax5autocomplete"),n.options=[],n.selected=[],function(e){i.isObject(e)&&!e.error&&(n=jQuery.extend(!0,n,e))}(i.parseJson(n.$target.attr("data-ax5autocomplete-config"),!0)),a=i.search(this.queue,function(){return this.id==n.id}),a===-1?(this.queue.push(n),s.call(this,this.queue.length-1)):(this.queue[a]=jQuery.extend(!0,{},this.queue[a],n),s.call(this,a)),c=null,a=null,this):(console.log(ax5.info.getError("ax5autocomplete","401","bind")),this)},this.open=function(){return function(o,n){this.waitOptionsCallback=null;var a,l,u=i.isNumber(o)?o:b.call(this,o),r=this.queue[u],h={};return r.$display.attr("disabled")?this:(this.openTimer&&clearTimeout(this.openTimer),this.activeautocompleteOptionGroup?this.activeautocompleteQueueIndex==u?this:n>2?this:(this.close(),this.openTimer=setTimeout(function(){this.open(u,(n||0)+1)}.bind(this),t.animateTime),this):(r.optionFocusIndex=-1,r.selected&&r.selected.length>0&&(r.optionSelectedIndex=r.selected[0]["@findex"]),h.id=r.id,h.theme=r.theme,h.size="ax5autocomplete-option-group-"+r.size,h.multiple=r.multiple,h.lang=r.lang,r.$display.attr("data-autocomplete-option-group-opened","true"),h.waitOptions=!0,h.options=[],this.activeautocompleteOptionGroup=jQuery(e.tmpl.get.call(this,"optionGroup",h,r.columnKeys)),this.activeautocompleteOptionGroup.find('[data-els="content"]').html(jQuery(e.tmpl.get.call(this,"options",h,r.columnKeys))),this.activeautocompleteQueueIndex=u,c.call(this,"append"),jQuery(window).bind("resize.ax5autocomplete-"+this.instanceId,function(){c.call(this)}.bind(this)),r.selected&&r.selected.length>0&&(l=this.activeautocompleteOptionGroup.find('[data-option-index="'+r.selected[0]["@index"]+'"]'),l.get(0)&&(a=l.position().top-this.activeautocompleteOptionGroup.height()/3,this.activeautocompleteOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:a},r.animateTime,"swing",function(){}))),jQuery(window).bind("keyup.ax5autocomplete-"+this.instanceId,function(e){e=e||window.event,d.call(this,e),i.stopEvent(e)}.bind(this)),jQuery(window).bind("click.ax5autocomplete-"+this.instanceId,function(e){e=e||window.event,p.call(this,e),i.stopEvent(e)}.bind(this)),s.call(this,r,{self:this,state:"open",item:r}),h=null,a=null,l=null,this))}}(),this.setValue=function(e,t){var o=i.isNumber(e)?e:b.call(this,e);if(o===-1)return void console.log(ax5.info.getError("ax5autocomplete","402","val"));if(this.queue[o].selected=[],I.call(this,o),i.isArray(t)){var n=i.map(t,function(){return{value:this}});$.call(this,o,n,!0,{noStateChange:!0})}else i.isObject(t)&&(console.log(t),$.call(this,o,{value:t},!0,{noStateChange:!0}));return f.call(this,o),this},this.setText=function(e,t){var o=i.isNumber(e)?e:b.call(this,e);return o===-1?void console.log(ax5.info.getError("ax5autocomplete","402","val")):(this.queue[o].selected=[],I.call(this,o),$.call(this,o,t,!0,{noStateChange:!0}),f.call(this,o),this)},this.getSelectedOption=function(e){var t=i.isNumber(e)?e:b.call(this,e);return t===-1?void console.log(ax5.info.getError("ax5autocomplete","402","val")):i.deepCopy(this.queue[t].selected)},this.close=function(e){return this.closeTimer&&clearTimeout(this.closeTimer),this.activeautocompleteOptionGroup?(e=this.queue[this.activeautocompleteQueueIndex],e.optionFocusIndex=-1,e.$display.removeAttr("data-autocomplete-option-group-opened").trigger("focus"),this.activeautocompleteOptionGroup.addClass("destroy"),jQuery(window).unbind("resize.ax5autocomplete-"+this.instanceId).unbind("click.ax5autocomplete-"+this.instanceId).unbind("keyup.ax5autocomplete-"+this.instanceId),this.closeTimer=setTimeout(function(){this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.remove(),this.activeautocompleteOptionGroup=null,this.activeautocompleteQueueIndex=-1,s.call(this,e,{self:this,state:"close"})}.bind(this),t.animateTime),this.waitOptionsCallback=null,this):this},this.blur=function(e){var t=i.isNumber(e)?e:b.call(this,e);return t===-1?void console.log(ax5.info.getError("ax5autocomplete","402","val")):(f.call(this,t),this)},this.enable=function(e){var t=b.call(this,e);return"undefined"!=typeof t&&(this.queue[t].$display[0]&&this.queue[t].$display.removeAttr("disabled"),this.queue[t].$select[0]&&this.queue[t].$select.removeAttr("disabled"),s.call(this,this.queue[t],{self:this,state:"enable"})),this},this.disable=function(e){var t=b.call(this,e);return"undefined"!=typeof t&&(this.queue[t].$display[0]&&(this.queue[t].$displayLabel.attr("contentEditable","false"),this.queue[t].$display.attr("disabled","disabled")),this.queue[t].$select[0]&&this.queue[t].$select.attr("disabled","disabled"),s.call(this,this.queue[t],{self:this,state:"disable"})),this},this.align=function(){return u.call(this),this},this.main=function(){arguments&&i.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return t}()),e=ax5.ui.autocomplete}(),ax5.ui.autocomplete_instance=new ax5.ui.autocomplete,jQuery.fn.ax5autocomplete=function(){return function(e){if(ax5.util.isString(arguments[0])){var t=arguments[0];switch(t){case"open":return ax5.ui.autocomplete_instance.open(this);case"close":return ax5.ui.autocomplete_instance.close(this);case"setValue":return ax5.ui.autocomplete_instance.setValue(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"setText":return ax5.ui.autocomplete_instance.setText(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"getSelectedOption":return ax5.ui.autocomplete_instance.getSelectedOption(this);case"enable":return ax5.ui.autocomplete_instance.enable(this);case"disable":return ax5.ui.autocomplete_instance.disable(this);case"blur":return ax5.ui.autocomplete_instance.blur(this);default:return this}}else"undefined"==typeof e&&(e={}),jQuery.each(this,function(){var t={target:this};e=jQuery.extend({},e,t),ax5.ui.autocomplete_instance.bind(e)});return this}}(),function(){var e=ax5.ui.autocomplete,t=(ax5.util,function(e){return'\n<div class="ax5autocomplete-option-group {{theme}} {{size}}" data-ax5autocomplete-option-group="{{id}}">\n    <div class="ax-autocomplete-body">\n        <div class="ax-autocomplete-option-group-content" data-els="content"></div>\n    </div>\n    <div class="ax-autocomplete-arrow"></div> \n</div>\n'}),i=function(e){return' \n<div class="form-control {{formSize}} ax5autocomplete-display {{theme}}" \ndata-ax5autocomplete-display="{{id}}" data-ax5autocomplete-instance="{{instanceId}}">\n    <div class="ax5autocomplete-display-table" data-els="display-table">\n        <div data-ax5autocomplete-display="label-holder"> \n        <a {{^tabIndex}}href="#ax5autocomplete-{{id}}" {{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}\n        data-ax5autocomplete-display="label"\n        spellcheck="false">{{{label}}}</a>\n        </div>\n        <div data-ax5autocomplete-display="addon"> \n            {{#multiple}}{{#reset}}\n            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n            {{/reset}}{{/multiple}}\n        </div>\n    </div>\n</a>\n'},o=function(e){return'\n<select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" multiple="multiple"></select>\n'},n=function(e){return'\n{{#selected}}\n<option value="{{'+e.optionValue+'}}" selected="true">{{'+e.optionText+"}}</option>\n{{/selected}}\n"},a=function(e){return'\n{{#waitOptions}}\n    <div class="ax-autocomplete-option-item">\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">\n                    {{{lang.loading}}}\n                </span>\n            </div>\n        </div>\n{{/waitOptions}}\n{{^waitOptions}}\n    {{#options}}\n        {{^hide}}\n        <div class="ax-autocomplete-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+e.optionValue+'}}" {{#'+e.optionSelected+'}}data-option-selected="true"{{/'+e.optionSelected+'}}>\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">{{'+e.optionText+'}}</span>\n            </div>\n        </div>\n        {{/hide}}\n    {{/options}}\n    {{^options}}\n        <div class="ax-autocomplete-option-item">\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">\n                    {{{lang.noOptions}}}\n                </span>\n            </div>\n        </div>\n    {{/options}}\n{{/waitOptions}}\n'},l=function(e){return'{{#selected}}<div tabindex="-1" data-ax5autocomplete-selected-label="{{@i}}" data-ax5autocomplete-selected-text="{{text}}"><div data-ax5autocomplete-remove="true" data-ax5autocomplete-remove-index="{{@i}}">{{{removeIcon}}}</div><span>{{text}}</span></div>{{/selected}}'};e.tmpl={autocompleteDisplay:i,formSelect:o,formSelectOptions:n,optionGroup:t,options:a,label:l,get:function(t,i,o){return ax5.mustache.render(e.tmpl[t].call(this,o),i)}}}(),function(){var e=ax5.ui.autocomplete,t=(ax5.util,{1:function(e,t,i){var o=this.config,n=t;$(t).find("span").get(0)&&(n=$(t).find("span").get(0));var a,l,s=(n.textContent||n.innerText).replace(/^[\s\r\n\t]*|[\s\r\n\t]*$/g,""),u=this.queue[e];if(u.selected&&u.selected.length>0)return t.getAttribute("data-ax5autocomplete-selected-text")==s?(a=t.getAttribute("data-ax5autocomplete-selected-label"),l=u.selected[a],{selectedIndex:{index:l["@index"],value:l[o.columnKeys.optionValue]}}):(a=t.getAttribute("data-ax5autocomplete-selected-label"),l=u.selected[a],{removeSelectedIndex:{index:l["@index"],value:l[o.columnKeys.optionValue]}})},3:function(e,t,i){var o=(this.config,(t.textContent||t.innerText).replace(/^[\s\r\n\t]*|[\s\r\n\t]*$/g,"")),n=this.queue[e];if(""!=o){if(i)return o;var a;return n.optionFocusIndex>-1&&(a=this.activeautocompleteOptionGroup.find('[data-option-focus-index="'+n.optionFocusIndex+'"]')),n.optionFocusIndex>-1&&a.get(0)&&a.attr("data-option-value")?{optionIndex:{gindex:a.attr("data-option-group-index"),index:a.attr("data-option-index")}}:n.editable?o:void 0}}});e.util={nodeTypeProcessor:t}}();